port: 7890
socks-port: 7891
mixed-port: 10808
allow-lan: true
mode: rule
log-level: info
external-controller: 0.0.0.0:9090
experimental:
  ignore-resolve-fail: true
  interface-name: enp1s0          # do to you
dns:
  enable: true                   # set true to enable dns
  ipv6: false                      # default is false
  listen: 0.0.0.0:53
  enhanced-mode: fake-ip         # or redir-host
  fake-ip-range: 198.18.0.1/16   # if you don't know what it is, don't change it
  use-hosts: true                # lookup hosts and return IP record
  fake-ip-filter:                # fake ip white domain list, aka Always Real IP
    - '*.lan'
    - localhost.ptlogin2.qq.com
    - "dns.msftncsi.com"
    - "www.msftncsi.com"
    - "www.msftconnecttest.com"
  nameserver:
    - 223.5.5.5                  # 阿里DNS
    - 223.6.6.6               
    - 180.76.76.76               # 百度DNS
    - 119.29.29.29               # 腾讯DNS
  fallback:                      # concurrent request with nameserver, 
    - 8.8.8.8                    # google
    - 1.1.1.1                    # cloudflare
    - tls://1.0.0.1:853
  fallback-filter: 
    geoip: true                  # default    
    ipcidr:                      # ips in these subnets will be considered polluted
      - 240.0.0.0/4
tun:
  enable: true
  stack: system                  # or gvisor
proxy-providers:
  奈飞节点:
    type: http
    path: ./Proxy/奈飞节点.yml
    url: https://Netflix.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  游戏节点:
    type: http
    path: ./Proxy/游戏节点.yml
    url: https://game.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  香港节点:
    type: http
    path: ./Proxy/香港节点.yml
    url: https://hk.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  日本节点:
    type: http
    path: ./Proxy/日本节点.yml
    url: https://jp.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  美国节点:
    type: http
    path: ./Proxy/美国节点.yml
    url: https://us.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  台湾节点:
    type: http
    path: ./Proxy/台湾节点.yml
    url: https://tw.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  狮城节点:
    type: http
    path: ./Proxy/狮城节点.yml
    url: https://sg.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  韩国节点:
    type: http
    path: ./Proxy/韩国节点.yml
    url: https://kr.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  全球节点:
    type: http
    path: ./Proxy/全球节点.yml
    url: https://global.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  负载节点:
    type: http
    path: ./Proxy/负载节点.yml
    url: https://load-balance.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300
  音乐节点:
    type: http
    path: ./Proxy/音乐节点.yml
    url: https://netease.com
    interval: 21600
    health-check:
      enable: true
      url: http://music.163.com/api
      interval: 300
  emby:
    type: http
    path: ./Proxy/emby.yml
    url: https://emby.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300    
  其他节点:
    type: http
    path: ./Proxy/其他节点.yml
    url: https://else.com
    interval: 21600
    health-check:
      enable: true
      url: http://www.gstatic.com/generate_204
      interval: 300     

proxy-groups:
  - name: ✈️ 节点选择
    type: select
    proxies:
      - ♻️ 自动选择
      - 🔯 故障转移
      - 🔮 负载均衡
      - 🚀 手动切换
  - name: 🚀 手动切换
    type: select
    use:
      - 全球节点
      - 其他节点
  - name: ♻️ 自动选择
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use:
      - 全球节点
  - name: 🔯 故障转移
    type: fallback
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use:
      - 全球节点
  - name: 🔮 负载均衡
    type: load-balance
    url: http://www.gstatic.com/generate_204
    interval: 300
    use:
      - 负载节点
    lazy: true
    disable-udp: true
    strategy: consistent-hashing
  - name: 📲 通讯服务
    type: select
    proxies:
      - ✈️ 节点选择
      - ♻️ 自动选择
      - 🔯 故障转移
      - 🚀 手动切换
  - name: 📹 油管视频
    type: select
    proxies:
      - ✈️ 节点选择
      - 🇸🇬 狮城节点
      - 🇭🇰 香港节点
      - 🇨🇳 台湾节点
      - 🇯🇵 日本节点
      - 🇺🇲 美国节点
      - 🇰🇷 韩国节点
      - 🚀 手动切换
  - name: 💻 奈飞视频
    type: select
    proxies:
      - 💿 奈飞节点
      - 🇸🇬 狮城节点
      - 🇭🇰 香港节点
      - 🇨🇳 台湾节点
      - 🇯🇵 日本节点
      - 🇺🇲 美国节点
      - 🇰🇷 韩国节点
      - 🚀 手动切换
  - name: 📺 EMBY
    type: select
    proxies:
      - 📺 Emby节点
      - 🚀 手动切换
      - 🎯 全球直连
  - name: 🌍 国外媒体
    type: select
    proxies:
      - ✈️ 节点选择
      - 🇸🇬 狮城节点
      - 🇭🇰 香港节点
      - 🇨🇳 台湾节点
      - 🇯🇵 日本节点
      - 🇺🇲 美国节点
      - 🇰🇷 韩国节点
      - 🚀 手动切换
  - name: 🌏 国内媒体
    type: select
    proxies:
      - 🎯 全球直连
      - ✈️ 节点选择
      - 🚀 手动切换
  - name: 📺 哔哩哔哩
    type: select
    proxies:
      - 🎯 全球直连
      - 🇭🇰 香港节点
      - 🇨🇳 台湾节点
  - name: 🎵 网易音乐
    type: fallback
    url: http://music.163.com/api
    interval: 300
    tolerance: 50
    proxies:
      - 🎵 音乐节点 
      - 🎯 全球直连
  - name: 🎮 游戏平台
    type: select
    proxies:
      - 🎯 全球直连
      - 🎲 游戏节点
      - 🚀 手动切换
  - name: Ⓜ️ 微软云盘
    type: select
    proxies:
      - ✈️ 节点选择
      - 🎯 全球直连
      - 🇺🇲 美国节点
      - 🚀 手动切换
  - name: ⌨️ 微软服务
    type: select
    proxies:
      - ✈️ 节点选择
      - 🎯 全球直连
      - 🇺🇲 美国节点
      - 🚀 手动切换
  - name: 🍎 苹果服务
    type: select
    proxies:
      - ✈️ 节点选择
      - 🎯 全球直连
      - 🇭🇰 香港节点
      - 🇨🇳 台湾节点
      - 🇺🇲 美国节点
      - 🚀 手动切换
  - name: 🔍️ 谷歌服务
    type: select
    proxies:
      - ✈️ 节点选择
      - 🎯 全球直连
      - 🇺🇲 美国节点
      - 🚀 手动切换
  - name: 🐟 漏网之鱼
    type: select
    proxies:
      - ✈️ 节点选择
      - 🎯 全球直连
      - ♻️ 自动选择
      - 🚀 手动切换
  - name: 💿 奈飞节点
    type: select
    use:
      - 奈飞节点
  - name: 📺 Emby节点
    type: url-test
    url: http://www.gstatic.com/generate_204
    interval: 300
    tolerance: 50
    use: 
      - emby
  - name: 🎵 音乐节点 
    type: url-test
    url: http://music.163.com/api
    interval: 300
    tolerance: 50
    use:
      - 音乐节点
  - name: 🎲 游戏节点
    type: select
    use:
      - 游戏节点
  - name: 🇭🇰 香港节点
    type: select
    use:
      - 香港节点
  - name: 🇯🇵 日本节点
    type: fallback
    use:
      - 日本节点
    url: http://www.gstatic.com/generate_204
    interval: 600
  - name: 🇺🇲 美国节点
    type: select
    use:
      - 美国节点
  - name: 🇨🇳 台湾节点
    type: select
    use:
      - 台湾节点
  - name: 🇸🇬 狮城节点
    type: fallback
    use:
      - 狮城节点    
    url: http://www.gstatic.com/generate_204
    interval: 600
  - name: 🇰🇷 韩国节点
    type: fallback
    use:
      - 韩国节点    
    url: http://www.gstatic.com/generate_204
    interval: 600
  - name: 🎯 全球直连
    type: select
    proxies:
      - DIRECT
      - REJECT
  - name: 🛑 隐私拦截
    type: select
    proxies:
      - REJECT
      - DIRECT

rule-providers:

  China:
    type: http
    behavior: classical
    path: ./RuleSet/China.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China.yaml
    interval: 86400
  AdvertisingTest:
    type: http
    behavior: classical
    path: ./RuleSet/AdvertisingTest.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/AdvertisingTest/AdvertisingTest.yaml
    interval: 86400
  Hijacking:
    type: http
    behavior: classical
    path: ./RuleSet/Hijacking.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Hijacking/Hijacking.yaml
    interval: 86400
  Privacy:
    type: http
    behavior: classical
    path: ./RuleSet/Privacy.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Privacy/Privacy_Classical.yaml
    interval: 86400
  Google:
    type: http
    behavior: classical
    path: ./RuleSet/Google.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
    interval: 86400
  GoogleDrive:
    type: http
    behavior: classical
    path: ./RuleSet/GoogleDrive.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GoogleDrive/GoogleDrive.yaml
    interval: 86400
  OneDrive:
    type: http
    behavior: classical
    path: ./RuleSet/OneDrive.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/OneDrive/OneDrive.yaml
    interval: 86400
  Microsoft:
    type: http
    behavior: classical
    path: ./RuleSet/Microsoft.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml
    interval: 86400
  Github:
    type: http
    behavior: classical
    path: ./RuleSet/Github.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GitHub/GitHub.yaml
    interval: 86400
  Apple:
    type: http
    behavior: classical
    path: ./RuleSet/Apple.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.yaml
    interval: 86400
  Telegram:
    type: http
    behavior: classical
    path: ./RuleSet/Telegram.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.yaml
    interval: 86400
  Discord:
    type: http
    behavior: classical
    path: ./RuleSet/Discord.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Discord/Discord.yaml
    interval: 86400 
  Game:
    type: http
    behavior: classical
    path: ./RuleSet/Game.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game.yaml
    interval: 86400
  YouTube:
    type: http
    behavior: classical
    path: ./RuleSet/YouTube.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml
    interval: 86400
  Netflix:
    type: http
    behavior: classical
    path: ./RuleSet/Netflix.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Netflix/Netflix.yaml
    interval: 86400
  Bahamut:
    type: http
    behavior: classical
    path: ./RuleSet/Bahamut.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bahamut/Bahamut.yaml
    interval: 86400
  GlobalMedia:
    type: http
    behavior: classical
    path: ./RuleSet/GlobalMedia.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/GlobalMedia/GlobalMedia.yaml
    interval: 86400
  Bilibili:
    type: http
    behavior: classical
    path: ./RuleSet/Bilibili.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/BiliBili/BiliBili.yaml
    interval: 86400
  NetEaseMusic:
    type: http
    behavior: classical
    path: ./RuleSet/NetEaseMusic.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/NetEaseMusic/NetEaseMusic.yaml
    interval: 86400
  ChinaMedia:
    type: http
    behavior: classical
    path: ./RuleSet/ChinaMedia.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/ChinaMedia/ChinaMedia.yaml
    interval: 86400
  Emby:
    type: http
    behavior: classical
    path: ./RuleSet/Emby.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/hope140/Clash/beta/emby.yaml
    interval: 86400
  Developer:
    type: http
    behavior: classical
    path: ./RuleSet/Developer.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Developer/Developer.yaml
    interval: 86400
  Proxy:
    type: http
    behavior: classical
    path: ./RuleSet/Proxy.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/hope140/Clash/beta/Proxy.yaml
    interval: 86400
  Download:
    type: http
    behavior: classical
    path: ./RuleSet/Download.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Download/Download.yaml
    interval: 86400
  Lan:
    type: http
    behavior: classical
    path: ./RuleSet/Lan.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.yaml
    interval: 86400
  Direct:
    type: http
    behavior: classical
    path: ./RuleSet/Direct.yaml
    url: https://ghproxy.com/https://raw.githubusercontent.com/hope140/Clash/beta/Direct.yaml
    interval: 86400
rules:
  - RULE-SET,Download,🎯 全球直连
  - RULE-SET,Lan,🎯 全球直连
  - RULE-SET,AdvertisingTest,🛑 隐私拦截
  - RULE-SET,Hijacking,🛑 隐私拦截
  - RULE-SET,Privacy,🛑 隐私拦截
  - RULE-SET,Google,🔍️ 谷歌服务
  - RULE-SET,GoogleDrive,🔍️ 谷歌服务
  - RULE-SET,OneDrive,Ⓜ️ 微软云盘
  - RULE-SET,Microsoft,⌨️ 微软服务
  - RULE-SET,Github,⌨️ 微软服务
  - RULE-SET,Apple,🍎 苹果服务
  - RULE-SET,Telegram,📲 通讯服务
  - RULE-SET,Discord,📲 通讯服务
  - RULE-SET,Game,🎮 游戏平台
  - RULE-SET,YouTube,📹 油管视频
  - RULE-SET,Netflix,💻 奈飞视频
  - RULE-SET,Emby,📺 EMBY
  - RULE-SET,Bahamut,🌍 国外媒体
  - RULE-SET,GlobalMedia,🌍 国外媒体
  - RULE-SET,Bilibili,📺 哔哩哔哩
  - RULE-SET,NetEaseMusic,🎵 网易音乐
  - RULE-SET,ChinaMedia,🌏 国内媒体
  - RULE-SET,Developer,✈️ 节点选择
  - RULE-SET,Proxy,✈️ 节点选择
  - RULE-SET,China,🎯 全球直连
  - RULE-SET,Direct,🎯 全球直连
  - GEOIP,CN,DIRECT
  - MATCH,🐟 漏网之鱼
